/*
 * This method tests regular expression matching in
 * PKS-MacroC code.
 */
macro Test-Expression()
{
	string s1;
	string s2 = "x";
	string re;

	s1 = "aec\\";
	re = "[a-e]+\\\\";

   	if (s1 ~ re)
		s2 = "' is matched by '";
   	else
		s2 = "' is not matched by '";

	MessageBox(MB_OK, "String '" + s1 + s2 + re + "'");

	if (s1) {
		MessageBox(MB_OK, "OK");
	}
}

macro Test-While() {
	int i = 2+2;
	while (i < 20) {
		CursorDown(MOT_SINGLE);
		i++;
	}
}

macro Test-Expr2()
{
   if (CursorDown(MOT_SINGLE) && CursorLeft(MOT_TOEND)) {
        InsertChar('x');
   } else
        InsertChar('y');
}


/*
 * The Test-Params method can be invoked with one integer and one string
 * parameter and will display the parameters passed in a message box.
 */
macro Test-Params(int par, string par2)
{
	string tmp;

	tmp = "We have passed " + (string)par + " as parameter 1 and '" + (string)par2 + "' as parameter 2";
	Alert(tmp);

	par2 = 14;
	tmp = "Now parameter 2 was changed to:" + par2;
	//Alert(tmp);
}


macro Test-Call()
{
	Test-Params(1,"One string passed to function");
	Test-Params(1, "a"+"b");
	// 1+"x" will be coerced to an integer -> will print '1'
	Test-Params(1 + "x");
	Test-Params(1,3);
}



